<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Spotlight Settings</title>
  <style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; padding: 20px; max-width: 600px; margin: 0 auto; background: #222; color: #eee; }
    h2 { border-bottom: 1px solid #444; padding-bottom: 10px; }
    .section { margin-bottom: 30px; background: #333; padding: 20px; border-radius: 8px; }
    .form-group { margin-bottom: 15px; display: flex; align-items: center; }
    label { width: 120px; font-weight: bold; }
    input { padding: 8px; border-radius: 4px; border: 1px solid #555; background: #222; color: white; width: 100px; }
    button { padding: 10px 20px; background: #0d6efd; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; }
    button:hover { background: #0b5ed7; }
    #status { margin-left: 10px; color: #4caf50; font-size: 14px; opacity: 0; transition: opacity 0.5s; }
    .note { font-size: 12px; color: #aaa; margin-top: 5px; }
    code { background: #444; padding: 2px 5px; border-radius: 3px; }

    /* 新增的表格與輸入樣式 */
    table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 14px; }
    th, td { text-align: left; padding: 8px; border-bottom: 1px solid #444; }
    th { color: #aaa; font-weight: normal; }
    .btn-remove { background: #dc3545; padding: 4px 8px; font-size: 12px; }
    .btn-remove:hover { background: #bb2d3b; }
    .add-row { display: flex; gap: 10px; margin-bottom: 10px; align-items: flex-end; }
    .add-row div { display: flex; flex-direction: column; }
    .add-row input { width: 80px; }
    .add-row input.long { width: 220px; }
  </style>
</head>
<body>

  <h2>Spotlight Settings</h2>

  <div class="section">
    <h3>Search Prefixes</h3>
    <p class="note">Define the short commands to switch search modes. (e.g., "%t ")</p>
    
    <div class="form-group">
      <label for="prefix-tab">Tabs:</label>
      <input type="text" id="prefix-tab" placeholder="%t">
    </div>
    <div class="form-group">
      <label for="prefix-bookmark">Bookmarks:</label>
      <input type="text" id="prefix-bookmark" placeholder="%b">
    </div>
    <div class="form-group">
      <label for="prefix-history">History:</label>
      <input type="text" id="prefix-history" placeholder="%h">
    </div>
    <div class="form-group">
      <label for="prefix-search">Web Search:</label>
      <input type="text" id="prefix-search" placeholder="%s">
    </div>
    
    <button id="save">Save Settings</button>
    <span id="status">Saved!</span>
  </div>

  <div class="section">
    <h3>Custom Search Engines</h3>
    <p class="note">Define custom shortcuts (e.g., prefix <code>@wiki</code> for Wikipedia).</p>
    <p class="note">Use <code>%s</code> in the URL as a placeholder for your search keyword.</p>
    
    <div class="add-row">
      <div>
        <label style="width:auto; margin-bottom: 5px; font-size: 12px;">Prefix</label>
        <input type="text" id="new-prefix" placeholder="@wiki">
      </div>
      <div>
        <label style="width:auto; margin-bottom: 5px; font-size: 12px;">Name</label>
        <input type="text" id="new-name" placeholder="Wikipedia">
      </div>
      <div>
        <label style="width:auto; margin-bottom: 5px; font-size: 12px;">URL</label>
        <input type="text" id="new-url" class="long" placeholder="https://.../search?q=%s">
      </div>
      <button id="add-engine" style="padding: 9px 15px;">Add</button>
    </div>

    <table id="engine-list">
      <thead>
        <tr>
          <th style="width: 20%;">Prefix</th>
          <th style="width: 20%;">Name</th>
          <th>URL</th>
          <th style="width: 10%;">Action</th>
        </tr>
      </thead>
      <tbody>
        </tbody>
    </table>
  </div>

  <div class="section">
    <h3>Key Bindings</h3>
    <p>To change the shortcut (default <code>Cmd+Shift+9</code>), please use Firefox's native shortcut manager:</p>
    <ol>
      <li>Go to <code>about:addons</code></li>
      <li>Click the ⚙️ (Gear icon) at the top right.</li>
      <li>Select <strong>"Manage Extension Shortcuts"</strong>.</li>
      <li>Find "Firefox Spotlight Hybrid" and set your key.</li>
    </ol>
  </div>

  <script src="options.js"></script>
</body>
</html>